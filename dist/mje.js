/**
 * github.com/ianlucas/mje
 * MIT License
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MJE=t():e.MJE=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,r){"use strict";function a(e,t){switch(t.tagName){case"MROW":case"MATH":return t.children.length?(t.insertBefore(e,t.lastElementChild.nextSibling),!0):(t.appendChild(e),!0);default:return t.parentNode.insertBefore(e,t),!0}}function i(e,t){var n=t.parentNode;switch(t.tagName){case"MROW":return i(e,n);case"MATH":return t}return n.removeChild(t),t.nextElementSibling||n}function o(e,t){!function e(n){var r="MROW"===n.tagName||"MATH"===n.tagName;if(r||t(n),n.children)for(var a=n.children.length,i=0;i<a;i++)e(n.children[i]);r&&t(n)}(e)}r.r(t);var u=0;function l(e){o(e,function(e){e.id||(e.id="mje-node".concat(u++))});var t=e.cloneNode(!0);return o(t,function(e){switch(e.tagName){case"MROW":case"MATH":e.children.length||e.appendChild(MathJax.HTML.Element("mi",{className:"mje-quote"},["?"])),"MATH"!==e.tagName&&e.appendChild(((t=MathJax.HTML.Element("mspace")).setAttribute("width","thinmathspace"),t))}var t}),t.outerHTML}var c={"*":"⋅","/":"÷","+":"+","-":"-","=":"=","<":"<",">":">","|":"|","%":"%",",":",",".":".",$:"$","(":"(",")":")","[":"[","]":"]","!":"!"};function d(e){var t={},r=MathJax.HTML.Element("math"),u=function(){var e=MathJax.HTML.Element("div",{className:"mje-container"}),t=MathJax.HTML.Element("div",{className:"mje-cursor"}),n=MathJax.HTML.Element("input",{className:"mje-input"}),r=null,a=!1,i=!1,o={click:null,input:null,code:null},u=function(){a?e.classList.add("focused"):e.classList.remove("focused")},l=function(){n.value.length&&(o.input(n.value),n.value="")};return document.body.appendChild(t),document.body.appendChild(n),document.addEventListener("click",function(){if(console.log(i),!i)return a=!1,n.blur(),u()}),e.addEventListener("click",function(e){a=!0,o.click(e.clientX,e.clientY),n.focus(),u()}),e.addEventListener("mouseenter",function(){i=!0}),e.addEventListener("mouseleave",function(){i=!1}),n.addEventListener("blur",function(){return i?(n.focus(),u()):(a=!1,u())}),n.addEventListener("keydown",l),n.addEventListener("keyup",l),n.addEventListener("keydown",function(e){o.code(e.keyCode)}),{events:o,container:function(){return e},value:function(t){return new Promise(function(a){if(r)return r.Text(t,a);e.innerHTML=t,MathJax.Hub.Queue(["Typeset",MathJax.Hub,e,function(){r=MathJax.Hub.getAllJax(n)[0],a()}])})},draw:function(e){console.log(e),t.style.left="".concat(e.x,"px"),t.style.top="".concat(e.y,"px"),t.style.height="".concat(e.height,"px")}}}(),d=r,f=null,s=null,h=function(){f=s.find(function(e){return e.source===d}),u.draw(f)},m=function(e,t){return e&&(d=e),t?u.value(l(t)).then(function(){s=function(e){var t={},n=[],r=null,a=null,i=function(e,n){if(e)return t.hasOwnProperty(n)||(t[n]=e.getBoundingClientRect()),t[n]};return o(e,function(e){var t,o,u=document.getElementById(e.id),l=e.children.length,c=u.lastElementChild,d=e.parentNode,f=i(u,e.id),s={y:f.top,height:f.height,source:e,previous:r};switch(d&&"MROW"!==e.tagName&&(t=document.getElementById(d.id),o=i(t,d.id),s.y=o.top,s.height=t.clientHeight),a&&(a.next=e),e.tagName){case"MATH":s.x=(l?f.width:0)+f.left;break;case"MROW":s.x=(l?f.width-c.clientWidth:0)+f.left;break;default:s.x=f.left}n.push(s),r=e,a=s}),n}(t),h()}):h()};return t.path=function(){return s},t.right=function(){m(f.next)},t.left=function(){m(f.previous)},t.del=function(){m(i(r,d),r)},t.backspace=function(){m(function(e,t){var n=t.parentNode,r=t.previousElementSibling;switch(t.tagName){case"MROW":case"MATH":return t.lastElementChild?i(e,t.lastElementChild):"MATH"===t.tagName?t:i(e,n)}return r||"MATH"!==n.tagName?i(e,r||n):t}(r,d),r)},t.number=function(e){a(MathJax.HTML.Element("mn",null,[n]),d),m(null,r)},t.identifier=function(e){a(MathJax.HTML.Element("mi",null,[e]),d),m(null,r)},t.operator=function(e){a(MathJax.HTML.Element("mo",null,[e]),d),m(null,r)},t.frac=function(){var e=MathJax.HTML.Element("mfrac"),t=MathJax.HTML.Element("mrow"),n=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(n),a(e,d),m(t,r)},t.sqrt=function(){var e=MathJax.HTML.Element("msqrt"),t=MathJax.HTML.Element("mrow");e.appendChild(t),a(e,d),m(t,r)},t.root=function(){var e=MathJax.HTML.Element("mroot"),t=MathJax.HTML.Element("mrow"),n=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(n),a(e,d),m(t,r)},t.sup=function(){var e=MathJax.HTML.Element("msup"),t=MathJax.HTML.Element("mrow"),n=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(n),a(e,d),m(t,r)},t.sub=function(){var e=MathJax.HTML.Element("msub"),t=MathJax.HTML.Element("mrow"),n=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(n),a(e,d),m(t,r)},u.events.click=function(e,t){var n=1/0,r=null,a=!0,i=!1,o=void 0;try{for(var u,l=s[Symbol.iterator]();!(a=(u=l.next()).done);a=!0)for(var c=u.value,f=c.y;f<c.y+c.height;f+=.1){var h=Math.sqrt(Math.pow(c.x-e,2)+Math.pow(c.y-t,2));if(null===n||n>h){n=h,r=c;break}}}catch(e){i=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}r&&r.source!==d&&m(r.source)},u.events.input=function(e){return e.match(/\d/)?t.number(e):e.match(/[a-zA-Z]/)?t.identifier(e):c.hasOwnProperty(e)?t.operator(c[e]):void 0},u.events.code=function(e){switch(console.log(e),e){case 8:return t.backspace();case 37:return t.left();case 39:return t.right();case 46:return t.del()}},MathJax.Hub.processSectionDelay=0,e.appendChild(u.container()),m(r,r),t}r.d(t,"default",function(){return d})}]).default});