!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MJE=t():e.MJE=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return e.toLowerCase()}function a(e,t){switch(r(t.tagName)){case"mrow":case"math":return t.children.length?(t.insertBefore(e,t.lastElementChild.nextSibling),!0):(t.appendChild(e),!0);default:return t.parentNode.insertBefore(e,t),!0}}function o(e,t){var n=t.parentNode;switch(r(t.tagName)){case"mrow":return o(e,n);case"math":return t}var a=t.nextElementSibling||n;return n.removeChild(t),a}function i(e,t){!function e(n){var a="mrow"===r(n.tagName)||"math"===r(n.tagName);if(a||t(n),n.children)for(var o=n.children.length,i=0;i<o;i++)e(n.children[i]);a&&t(n)}(e)}n.r(t);var u=0;var l=["mo","mi","mn","mspace"];function c(e){i(e,function(e){e.id||(e.id="mje-node".concat(u++))});var t=e.cloneNode(!0),n=function(){var e=MathJax.HTML.Element("mspace");return e.setAttribute("width","thinmathspace"),e};return i(t,function(e){var t=r(e.tagName);switch(t){case"mrow":case"math":if(!e.children.length){e.appendChild(MathJax.HTML.Element("mi",{className:"mje-placeholder"},["?"]));break}"math"!==t&&(e.appendChild(n()),e.insertBefore(n(),e.firstChild));break;default:-1===l.indexOf(t)&&(console.log(t),e.parentNode.insertBefore(n(),e.nextSibling))}}),t.outerHTML}var d={"*":"⋅","/":"÷","+":"+","-":"-","=":"=","<":"<",">":">","|":"|","%":"%",",":",",".":".",$:"$","(":"(",")":")","[":"[","]":"]","!":"!"};function s(e){if(!MathJax)throw new Error("mje: MathJax not found. Ensure that MathJax is loaded before calling mje.");var t={},n=MathJax.HTML.Element("math"),u=function(){var e=MathJax.HTML.Element("div",{className:"mje-container"}),t=MathJax.HTML.Element("div",{className:"mje-cursor hidden"}),n=MathJax.HTML.Element("input",{className:"mje-input"}),r=null,a=!1,o=!1,i=null,u={click:null,input:null,code:null},l=function(){a?(t.classList.remove("hidden"),e.classList.add("focused")):(t.classList.add("hidden"),e.classList.remove("focused"))},c=function(){n.value.length&&(u.input(n.value),n.value="")},d=function e(){a&&t.classList.toggle("hidden"),i=setTimeout(e,700)},s=function(){t.classList.remove("hidden"),clearTimeout(i),i=setTimeout(d,700)};return document.body.appendChild(t),document.body.appendChild(n),document.addEventListener("click",function(){if(console.log(o),!o)return a=!1,n.blur(),l()}),e.addEventListener("click",function(e){a=!0,u.click(e.clientX,e.clientY),n.focus(),l()}),e.addEventListener("mouseenter",function(){o=!0}),e.addEventListener("mouseleave",function(){o=!1}),n.addEventListener("blur",function(){return o?(n.focus(),l()):(a=!1,l())}),n.addEventListener("keydown",c),n.addEventListener("keyup",c),n.addEventListener("keydown",function(e){u.code(e.keyCode)}),i=setTimeout(d,700),{events:u,unblink:s,container:function(){return e},value:function(t){return s(),new Promise(function(a){if(r)return r.Text(t,a);e.innerHTML=t;var o=function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,e,function(){r=MathJax.Hub.getAllJax(n)[0],a()}])};MathJax.isReady?o():MathJax.Hub.Register.StartupHook("End",function(){setTimeout(o,1e3)})})},draw:function(e){e&&(t.style.left="".concat(e.x,"px"),t.style.top="".concat(e.y,"px"),t.style.height="".concat(e.height,"px"))}}}(),l=n,s=null,f=null,m=function(){s=f.find(function(e){return e.source===l}),u.draw(s)},h=function(e,t){return e&&(u.unblink(),l=e),t?u.value(c(t)).then(function(){f=function(e){var t={},n=[],a=null,o=null,u=function(e,n){if(e)return t.hasOwnProperty(n)||(t[n]=e.getBoundingClientRect()),t[n]};return i(e,function(e){var t=document.getElementById(e.id);if(t){var i,l,c=e.children.length,d=t.lastElementChild,s=e.parentNode,f=r(e.tagName),m=u(t,e.id),h={y:m.top,height:m.height,source:e,previous:a};switch(s&&"mrow"!==f&&(i=document.getElementById(s.id),l=u(i,s.id),h.y=l.top,h.height=i.clientHeight),o&&(o.next=e),r(f)){case"math":h.x=(c?m.width:0)+m.left;break;case"mrow":h.x=(c?m.width-d.clientWidth:0)+m.left;break;default:h.x=m.left}n.push(h),a=e,o=h}}),n}(t),m()}):m()};if(t.path=function(){return f},t.right=function(){h(s.next)},t.left=function(){h(s.previous)},t.del=function(){h(o(n,l),n)},t.backspace=function(){h(function(e,t){var n=t.parentNode,a=t.previousElementSibling,i=r(t.tagName);switch(i){case"mrow":case"math":return t.lastElementChild?o(e,t.lastElementChild):"math"===i?t:o(e,n)}return a||"math"!==r(n.tagName)?(console.log("yey"),o(e,a||n)):t}(n,l),n)},t.number=function(e){a(MathJax.HTML.Element("mn",null,[e]),l),h(null,n)},t.identifier=function(e){a(MathJax.HTML.Element("mi",null,[e]),l),h(null,n)},t.operator=function(e){a(MathJax.HTML.Element("mo",null,[e]),l),h(null,n)},t.frac=function(){var e=MathJax.HTML.Element("mfrac"),t=MathJax.HTML.Element("mrow"),r=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(r),a(e,l),h(t,n)},t.sqrt=function(){var e=MathJax.HTML.Element("msqrt"),t=MathJax.HTML.Element("mrow");e.appendChild(t),a(e,l),h(t,n)},t.root=function(){var e=MathJax.HTML.Element("mroot"),t=MathJax.HTML.Element("mrow"),r=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(r),a(e,l),h(t,n)},t.sup=function(){var e=MathJax.HTML.Element("msup"),t=MathJax.HTML.Element("mrow"),r=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(r),a(e,l),h(t,n)},t.sub=function(){var e=MathJax.HTML.Element("msub"),t=MathJax.HTML.Element("mrow"),r=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(r),a(e,l),h(t,n)},t.subsup=function(){var e=MathJax.HTML.Element("msubsup"),t=MathJax.HTML.Element("mrow"),r=MathJax.HTML.Element("mrow"),o=MathJax.HTML.Element("mrow");e.appendChild(t),e.appendChild(r),e.appendChild(o),a(e,l),h(t,n)},t.get=function(){var e=n.cloneNode(!0);return i(e,function(e){return e.removeAttribute("id")}),e.outerHTML},t.set=function(e){var t=(new DOMParser).parseFromString(e,"text/html");(n=t.body.firstElementChild).parentNode.removeChild(n),h(n,n)},u.events.click=function(e,t){var n=1/0,r=null,a=!0,o=!1,i=void 0;try{for(var u,c=f[Symbol.iterator]();!(a=(u=c.next()).done);a=!0)for(var d=u.value,s=d.y;s<d.y+d.height;s+=.1){var m=Math.sqrt(Math.pow(d.x-e,2)+Math.pow(d.y-t,2));if(null===n||n>m){n=m,r=d;break}}}catch(e){o=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}r&&r.source!==l&&h(r.source)},u.events.input=function(e){return e.match(/\d/)?t.number(e):e.match(/[a-zA-Z]/)?t.identifier(e):d.hasOwnProperty(e)?t.operator(d[e]):void 0},u.events.code=function(e){switch(console.log(e),e){case 8:return t.backspace();case 37:return t.left();case 39:return t.right();case 46:return t.del()}},"string"==typeof e&&(e=document.querySelector(e)),!e||!e.parentNode)throw new Error("mje: target element not found.");return e.parentNode.replaceChild(u.container(),e),MathJax.Hub.processSectionDelay=0,h(n,n),t}n.d(t,"default",function(){return s})}]).default});